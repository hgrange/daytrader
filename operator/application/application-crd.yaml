# Generated by IBM TransformationAdvisor
# Thu Nov 07 21:17:35 GMT 2019
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: openliberties.openliberty.io
spec:
  group: openliberty.io
  names:
    kind: OpenLiberty
    listKind: OpenLibertyList
    plural: openliberties
    singular: openliberty
  scope: Namespaced
  subresources:
    status: {}
  version: v1alpha1
  versions:
  - name: v1alpha1
    served: true
    storage: true
  validation:
    openAPIV3Schema:
      properties:
        spec:
          properties:
            arch:
              properties:  
                amd64:
                  enum:
                  - "0 - Do not use"
                  - "1 - Least preferred"
                  - "2 - No preference"
                  - "3 - Most preferred"
                  type: string        
                ppc64le:
                  enum:
                  - "0 - Do not use"
                  - "1 - Least preferred"
                  - "2 - No preference"              - ppc64le
              - s390x
              type: object
            autoscaling:
              properties:  
                enabled: 
                  type: boolean   
                minReplicas:
                  type: integer
                maxReplicas:
                  type: integer               
                targetCPUUtilizationPercentage:
                  type: integer
              required:           
              - enabled
              - minReplicas
              - maxReplicas
              - targetCPUUtilizationPercentage
              type: object  
            deployment:
              properties:            
                annotations: 
                  type: object
                labels: 
                  type: object                  
              type: object
            env:
              properties:
                jvmArgs:
                  type: string
              type: object    
            iiopService:
              properties:  
                enabled:
                  type: boolean
                nonSecurePort:
                  type: integer
                nonSecureTargetPort:
                  type: integer
                securePort:
                  type: integer
                secureTargetPort:
                  type: integer                 
                type:
                  enum:
                  - ClusterIP
                  - NodePort
                  type: string 
              required:           
              - enabled
              - nonSecurePort
              - securePort
              - type
              type: object   
            image:
              properties:
                extraEnvs:
                  items:
                    properties:
                      name:
                        type: string 
                      value:
                    required:
                    - name
                    type: object
                  type: array     
                extraVolumeMounts:
                  items:
                    properties:
                      name:
                        type: string 
                      mountPath:
                        type: string
                      readOnly:
                        type: boolean
                    required:
                    - name
                    type: object
                  type: array                     
                lifecycle:
                  properties:
                    postStart:
                      type: object 
                    preStop:
                      type: object
                  type: object
                livenessProbe:
                  properties:
                    failureThreshold:
                      type: integer
                      minimum: 1                                           
                    initialDelaySeconds: 
                      type: integer
                    periodSeconds: 
                      type: integer
                      minimum: 1
                    # Must be 1 for liveness.
                    successThreshold:
                      type: integer
                      minimum: 1
                      maximum: 1
                    timeoutSeconds:
                  - "3 - Most preferred"
                  type: string        
                s390x:
                  enum:
                  - "0 - Do not use"
                  - "1 - Least preferred"
                  - "2 - No preference"
                  - "3 - Most preferred"
                  type: string                      
              required:           
              - amd64
